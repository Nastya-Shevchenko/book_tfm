<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8.3 Aplicación de ‘polarity’ | Enfoque interdisciplinar sobre el estudio cuantitativo de las emociones \n Enfoque interdisciplinar sobre o estudo cuantitativo das emocións \n An interdisciplinar approach to the quantitative study of emotions</title>
  <meta name="description" content="Este libro es el TFM de Anastasiya Shevchenko para el Máster de Sociología Aplicada (udc)." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="8.3 Aplicación de ‘polarity’ | Enfoque interdisciplinar sobre el estudio cuantitativo de las emociones \n Enfoque interdisciplinar sobre o estudo cuantitativo das emocións \n An interdisciplinar approach to the quantitative study of emotions" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro es el TFM de Anastasiya Shevchenko para el Máster de Sociología Aplicada (udc)." />
  <meta name="github-repo" content="nastya/book_tfm" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8.3 Aplicación de ‘polarity’ | Enfoque interdisciplinar sobre el estudio cuantitativo de las emociones \n Enfoque interdisciplinar sobre o estudo cuantitativo das emocións \n An interdisciplinar approach to the quantitative study of emotions" />
  
  <meta name="twitter:description" content="Este libro es el TFM de Anastasiya Shevchenko para el Máster de Sociología Aplicada (udc)." />
  

<meta name="author" content="María del Carmen Rodríguez Rodríguez" />
<meta name="author" content="Rubén Fernández Casal" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preparacion-de-los-diccionarios.html">
<link rel="next" href="combinacion-de-las-bases-de-datos.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Enfoque interdisciplinar sobre el estudio cuantitativo de las emociones</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="" data-path="abstract.html"><a href="abstract.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="prologo.html"><a href="prologo.html"><i class="fa fa-check"></i>Prólogo</a></li>
<li class="chapter" data-level="" data-path="resumen-1.html"><a href="resumen-1.html"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="" data-path="abstract-1.html"><a href="abstract-1.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="prologo-1.html"><a href="prologo-1.html"><i class="fa fa-check"></i>Prólogo</a></li>
<li class="chapter" data-level="" data-path="resumen-2.html"><a href="resumen-2.html"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="prologo-2.html"><a href="prologo-2.html"><i class="fa fa-check"></i>Prólogo</a></li>
<li class="chapter" data-level="1" data-path="introduccion-a-la-problematica.html"><a href="introduccion-a-la-problematica.html"><i class="fa fa-check"></i><b>1</b> INTRODUCCIÓN A LA PROBLEMÁTICA</a><ul>
<li class="chapter" data-level="1.1" data-path="objetivos.html"><a href="objetivos.html"><i class="fa fa-check"></i><b>1.1</b> Objetivos</a></li>
<li class="chapter" data-level="1.2" data-path="aplicaciones.html"><a href="aplicaciones.html"><i class="fa fa-check"></i><b>1.2</b> Aplicaciones</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="consideraciones-metodologicas.html"><a href="consideraciones-metodologicas.html"><i class="fa fa-check"></i><b>2</b> CONSIDERACIONES METODOLÓGICAS</a><ul>
<li class="chapter" data-level="2.1" data-path="metodologia-documental.html"><a href="metodologia-documental.html"><i class="fa fa-check"></i><b>2.1</b> Metodología documental</a></li>
<li class="chapter" data-level="2.2" data-path="metodologia-cuantitativa.html"><a href="metodologia-cuantitativa.html"><i class="fa fa-check"></i><b>2.2</b> Metodología cuantitativa</a><ul>
<li class="chapter" data-level="2.2.1" data-path="metodologia-cuantitativa.html"><a href="metodologia-cuantitativa.html#dificultades-inherentes"><i class="fa fa-check"></i><b>2.2.1</b> Dificultades inherentes</a></li>
<li class="chapter" data-level="2.2.2" data-path="metodologia-cuantitativa.html"><a href="metodologia-cuantitativa.html#formulacion-cambiante-del-proceso-investigador"><i class="fa fa-check"></i><b>2.2.2</b> Formulación cambiante del proceso investigador</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="el-estado-de-la-cuestion.html"><a href="el-estado-de-la-cuestion.html"><i class="fa fa-check"></i><b>3</b> EL ESTADO DE LA CUESTIÓN</a><ul>
<li class="chapter" data-level="3.1" data-path="una-breve-definicion.html"><a href="una-breve-definicion.html"><i class="fa fa-check"></i><b>3.1</b> Una breve definición</a><ul>
<li class="chapter" data-level="3.1.1" data-path="una-breve-definicion.html"><a href="una-breve-definicion.html#tradiciones-segun-la-naturaleza-de-los-datos"><i class="fa fa-check"></i><b>3.1.1</b> Tradiciones según la naturaleza de los datos</a></li>
<li class="chapter" data-level="3.1.2" data-path="una-breve-definicion.html"><a href="una-breve-definicion.html#estrategia-del-aprendizaje-automatico"><i class="fa fa-check"></i><b>3.1.2</b> Estrategia del aprendizaje automático</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="emociones-y-terminologia.html"><a href="emociones-y-terminologia.html"><i class="fa fa-check"></i><b>3.2</b> Emociones y terminología</a></li>
<li class="chapter" data-level="3.3" data-path="procesamiento-de-texto-y-niveles-de-analisis.html"><a href="procesamiento-de-texto-y-niveles-de-analisis.html"><i class="fa fa-check"></i><b>3.3</b> Procesamiento de texto y niveles de análisis</a></li>
<li class="chapter" data-level="3.4" data-path="uso-del-lenguaje-de-programacion-r.html"><a href="uso-del-lenguaje-de-programacion-r.html"><i class="fa fa-check"></i><b>3.4</b> Uso del lenguaje de programación <code>R</code></a><ul>
<li class="chapter" data-level="3.4.1" data-path="uso-del-lenguaje-de-programacion-r.html"><a href="uso-del-lenguaje-de-programacion-r.html#herramientas-para-analisis-de-sentimientos"><i class="fa fa-check"></i><b>3.4.1</b> Herramientas para análisis de sentimientos</a></li>
<li class="chapter" data-level="3.4.2" data-path="uso-del-lenguaje-de-programacion-r.html"><a href="uso-del-lenguaje-de-programacion-r.html#analisis-de-sentimientos-para-castellano"><i class="fa fa-check"></i><b>3.4.2</b> Análisis de sentimientos para castellano</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="el-problema-de-las-emociones-concretas-verguenza.html"><a href="el-problema-de-las-emociones-concretas-verguenza.html"><i class="fa fa-check"></i><b>3.5</b> El problema de las emociones concretas: Vergüenza</a><ul>
<li class="chapter" data-level="3.5.1" data-path="el-problema-de-las-emociones-concretas-verguenza.html"><a href="el-problema-de-las-emociones-concretas-verguenza.html#exploracion-bibliometrica"><i class="fa fa-check"></i><b>3.5.1</b> Exploración bibliométrica</a></li>
<li class="chapter" data-level="3.5.2" data-path="el-problema-de-las-emociones-concretas-verguenza.html"><a href="el-problema-de-las-emociones-concretas-verguenza.html#utilidades-para-el-estudio-de-las-emociones"><i class="fa fa-check"></i><b>3.5.2</b> Utilidades para el estudio de las emociones</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manipulacion-de-datos-de-texto.html"><a href="manipulacion-de-datos-de-texto.html"><i class="fa fa-check"></i><b>4</b> MANIPULACIÓN DE DATOS DE TEXTO</a><ul>
<li class="chapter" data-level="4.1" data-path="obtencion-de-los-datos.html"><a href="obtencion-de-los-datos.html"><i class="fa fa-check"></i><b>4.1</b> Obtención de los datos</a></li>
<li class="chapter" data-level="4.2" data-path="preparacion-del-data-frame.html"><a href="preparacion-del-data-frame.html"><i class="fa fa-check"></i><b>4.2</b> Preparación del data frame</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="preprocesamiento.html"><a href="preprocesamiento.html"><i class="fa fa-check"></i><b>5</b> PREPROCESAMIENTO</a><ul>
<li class="chapter" data-level="5.1" data-path="preprocesamiento-de-la-variable-sumario.html"><a href="preprocesamiento-de-la-variable-sumario.html"><i class="fa fa-check"></i><b>5.1</b> Preprocesamiento de la variable ‘sumario’</a></li>
<li class="chapter" data-level="5.2" data-path="preprocesamiento-de-la-variable-texto.html"><a href="preprocesamiento-de-la-variable-texto.html"><i class="fa fa-check"></i><b>5.2</b> Preprocesamiento de la variable <code>texto</code></a></li>
<li class="chapter" data-level="5.3" data-path="combinacion-y-guardado-de-los-datos-procesados.html"><a href="combinacion-y-guardado-de-los-datos-procesados.html"><i class="fa fa-check"></i><b>5.3</b> Combinación y guardado de los datos procesados</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="creacion-de-la-matriz-de-terminos.html"><a href="creacion-de-la-matriz-de-terminos.html"><i class="fa fa-check"></i><b>6</b> CREACIÓN DE LA MATRIZ DE TÉRMINOS</a><ul>
<li class="chapter" data-level="6.1" data-path="reduccion-de-dimensiones.html"><a href="reduccion-de-dimensiones.html"><i class="fa fa-check"></i><b>6.1</b> Reducción de dimensiones</a></li>
<li class="chapter" data-level="6.2" data-path="conversion-de-la-matriz-dtm-a-data-frame.html"><a href="conversion-de-la-matriz-dtm-a-data-frame.html"><i class="fa fa-check"></i><b>6.2</b> Conversión de la matriz DTM a data frame</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analisis-descriptivo.html"><a href="analisis-descriptivo.html"><i class="fa fa-check"></i><b>7</b> ANÁLISIS DESCRIPTIVO</a><ul>
<li class="chapter" data-level="7.1" data-path="exploracion-de-la-variable-puntuacion.html"><a href="exploracion-de-la-variable-puntuacion.html"><i class="fa fa-check"></i><b>7.1</b> Exploración de la variable ‘puntuación’</a></li>
<li class="chapter" data-level="7.2" data-path="exploracion-de-las-frecuencias-de-terminos.html"><a href="exploracion-de-las-frecuencias-de-terminos.html"><i class="fa fa-check"></i><b>7.2</b> Exploración de las frecuencias de términos</a><ul>
<li class="chapter" data-level="7.2.1" data-path="exploracion-de-las-frecuencias-de-terminos.html"><a href="exploracion-de-las-frecuencias-de-terminos.html#los-terminos-mas-frecuentes"><i class="fa fa-check"></i><b>7.2.1</b> Los términos más frecuentes</a></li>
<li class="chapter" data-level="7.2.2" data-path="exploracion-de-las-frecuencias-de-terminos.html"><a href="exploracion-de-las-frecuencias-de-terminos.html#las-nubes-de-palabras"><i class="fa fa-check"></i><b>7.2.2</b> Las nubes de palabras</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="correlaciones-entre-terminos-dtm.html"><a href="correlaciones-entre-terminos-dtm.html"><i class="fa fa-check"></i><b>7.3</b> Correlaciones entre términos DTM</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analisis-de-sentimientos-con-polarity.html"><a href="analisis-de-sentimientos-con-polarity.html"><i class="fa fa-check"></i><b>8</b> ANÁLISIS DE SENTIMIENTOS CON <code>POLARITY</code></a><ul>
<li class="chapter" data-level="8.1" data-path="formulacion-del-calculo.html"><a href="formulacion-del-calculo.html"><i class="fa fa-check"></i><b>8.1</b> Formulación del cálculo</a></li>
<li class="chapter" data-level="8.2" data-path="preparacion-de-los-diccionarios.html"><a href="preparacion-de-los-diccionarios.html"><i class="fa fa-check"></i><b>8.2</b> Preparación de los diccionarios</a></li>
<li class="chapter" data-level="8.3" data-path="aplicacion-de-polarity.html"><a href="aplicacion-de-polarity.html"><i class="fa fa-check"></i><b>8.3</b> Aplicación de ‘polarity’</a></li>
<li class="chapter" data-level="8.4" data-path="combinacion-de-las-bases-de-datos.html"><a href="combinacion-de-las-bases-de-datos.html"><i class="fa fa-check"></i><b>8.4</b> Combinación de las bases de datos</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="clasificacion.html"><a href="clasificacion.html"><i class="fa fa-check"></i><b>9</b> CLASIFICACIÓN</a><ul>
<li class="chapter" data-level="9.1" data-path="arboles-de-decision.html"><a href="arboles-de-decision.html"><i class="fa fa-check"></i><b>9.1</b> Árboles de decisión</a><ul>
<li class="chapter" data-level="9.1.1" data-path="arboles-de-decision.html"><a href="arboles-de-decision.html#arbol-de-decision-sin-polarity"><i class="fa fa-check"></i><b>9.1.1</b> Árbol de decisión sin <code>polarity</code></a></li>
<li class="chapter" data-level="9.1.2" data-path="arboles-de-decision.html"><a href="arboles-de-decision.html#arbol-de-decision-con-polarity"><i class="fa fa-check"></i><b>9.1.2</b> Árbol de decisión con polarity`</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="bosque-aleatorio.html"><a href="bosque-aleatorio.html"><i class="fa fa-check"></i><b>9.2</b> Bosque aleatorio</a><ul>
<li class="chapter" data-level="9.2.1" data-path="bosque-aleatorio.html"><a href="bosque-aleatorio.html#bosque-aleatorio-con-polarity"><i class="fa fa-check"></i><b>9.2.1</b> Bosque aleatorio con <code>polarity</code></a></li>
<li class="chapter" data-level="9.2.2" data-path="bosque-aleatorio.html"><a href="bosque-aleatorio.html#bosque-aleatorio-sin-polarity"><i class="fa fa-check"></i><b>9.2.2</b> Bosque aleatorio sin <code>polarity</code></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="balance-de-los-resultados.html"><a href="balance-de-los-resultados.html"><i class="fa fa-check"></i><b>9.3</b> Balance de los resultados</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="una-mejora-de-caracter-interdisciplinar.html"><a href="una-mejora-de-caracter-interdisciplinar.html"><i class="fa fa-check"></i><b>10</b> UNA MEJORA DE CARÁCTER INTERDISCIPLINAR</a><ul>
<li class="chapter" data-level="10.1" data-path="desde-la-computacion.html"><a href="desde-la-computacion.html"><i class="fa fa-check"></i><b>10.1</b> Desde la Computación</a></li>
<li class="chapter" data-level="10.2" data-path="desde-la-estadistica.html"><a href="desde-la-estadistica.html"><i class="fa fa-check"></i><b>10.2</b> Desde la Estadística</a></li>
<li class="chapter" data-level="10.3" data-path="desde-la-sociologia.html"><a href="desde-la-sociologia.html"><i class="fa fa-check"></i><b>10.3</b> Desde la Sociología</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="conclusiones.html"><a href="conclusiones.html"><i class="fa fa-check"></i><b>11</b> CONCLUSIONES</a><ul>
<li class="chapter" data-level="11.1" data-path="objetivos-especificos.html"><a href="objetivos-especificos.html"><i class="fa fa-check"></i><b>11.1</b> Objetivos específicos</a></li>
<li class="chapter" data-level="11.2" data-path="futuras-lineas-de-investigacion.html"><a href="futuras-lineas-de-investigacion.html"><i class="fa fa-check"></i><b>11.2</b> Futuras líneas de investigación</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>BIBLIOGRAFÍA</a><ul>
<li class="chapter" data-level="" data-path="repositorios.html"><a href="repositorios.html"><i class="fa fa-check"></i>Repositorios</a></li>
<li class="chapter" data-level="" data-path="paquetes.html"><a href="paquetes.html"><i class="fa fa-check"></i>Paquetes</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Enfoque interdisciplinar sobre el estudio cuantitativo de las emociones \n Enfoque interdisciplinar sobre o estudo cuantitativo das emocións \n An interdisciplinar approach to the quantitative study of emotions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aplicacion-de-polarity" class="section level2">
<h2><span class="header-section-number">8.3</span> Aplicación de ‘polarity’</h2>
<p>En primer lugar, cargamos el archivo de datos creado a partir del
preprocesamiento y cargamos la librería (o paquete) necesario.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1"><span class="kw">load</span>(<span class="st">&#39;data/df_procesado.RData&#39;</span>)</a>
<a class="sourceLine" id="cb74-2" title="2"><span class="kw">library</span>(qdap) <span class="co"># Contiene &#39;polarity&#39;</span></a></code></pre></div>
<p>En primer lugar, al aplicar esta función a una variable de texto
directamente, nos damos cuenta de que calcula un único valor para
todo el conjunto. Esto no resulta conveniente pues lo que nos
interesa conocer es la puntuación de polaridad de cada una de las
críticas de cine.</p>
<p>Por este motivo, para que se calcule la polaridad para cada valor
o conjunto de texto dentro de la variable, es necesario desarrollar
una función que, en forma de bucle, lo aplique en cada caso.
Así pues, creamos un objeto vacío que va a contener la información
resultante y aplicamos la función <code>polarity</code> dentro de otra función
creada con la ayuda del bucle <code>for</code>.</p>
<p>Como se puede observar, siempre que aplicamos esta función, indicamos
cuáles son los objetos en los que se encuentran todos los diccionarios
que son necesarios para su ejecución.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1">res_polaridad_sumario &lt;-<span class="st"> </span><span class="kw">c</span>() <span class="co"># Objeto vacío</span></a>
<a class="sourceLine" id="cb75-2" title="2"></a>
<a class="sourceLine" id="cb75-3" title="3"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(df_polarity<span class="op">$</span>new_sumario)){</a>
<a class="sourceLine" id="cb75-4" title="4">  res_polaridad_sumario[i] &lt;-<span class="st"> </span><span class="kw">polarity</span>(</a>
<a class="sourceLine" id="cb75-5" title="5">    df_polarity<span class="op">$</span>new_sumario[i],</a>
<a class="sourceLine" id="cb75-6" title="6">    <span class="dt">polarity.frame =</span> diccionario,</a>
<a class="sourceLine" id="cb75-7" title="7">    <span class="dt">negators =</span> negadores,</a>
<a class="sourceLine" id="cb75-8" title="8">    <span class="dt">amplifiers =</span> amplificadores,</a>
<a class="sourceLine" id="cb75-9" title="9">    <span class="dt">deamplifiers =</span> diminuidores)} </a></code></pre></div>
<p>En cambio, esto no es suficiente para obtener el resultado de la polaridad
como tal porque la función nos devuelve varias salidas para cada elemento.
Si se quiere procesar posteriormente o simplemente obtener las puntuaciones
por separado, lo que simplifica la variable resultante, es necesario
crear otro bucle para su extracción.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1">  <span class="co"># Visualizamos el resultado para el primer texto</span></a>
<a class="sourceLine" id="cb76-2" title="2">res_polaridad_sumario[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>##   all wc  polarity pos.words neg.words          text.var
## 1 all  3 0.5773503     amigo         - may quieres amigo</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1">pol_sumario&lt;-<span class="st"> </span><span class="kw">c</span>() <span class="co"># Objeto vacío</span></a>
<a class="sourceLine" id="cb78-2" title="2"></a>
<a class="sourceLine" id="cb78-3" title="3"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(res_polaridad_sumario)){</a>
<a class="sourceLine" id="cb78-4" title="4">  pol_sumario[i] &lt;-<span class="st"> </span>res_polaridad_sumario[[i]]<span class="op">$</span>polarity}</a></code></pre></div>
<p>Para comprobar que la variable se ha extraído correctamente, podemos
recurrir a la función <code>str</code>, ya que ofrece un resumen de sus distintas
características.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1"><span class="kw">str</span>(pol_sumario); <span class="kw">length</span>(pol_sumario)</a></code></pre></div>
<pre><code>##  num [1:3878] 0.5774 0 0 0.0816 0.2673 ...</code></pre>
<pre><code>## [1] 3878</code></pre>
<p>Ahora bien, aplicamos el procedimiento del mismo modo a la variable
<code>new_texto</code> y observamos el resultado que se obtiene con la
identificación de las palabras positivas y negativas, así como
la puntuación de polaridad.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" title="1"><span class="co"># Calculamos las puntuaciones para cada caso</span></a>
<a class="sourceLine" id="cb82-2" title="2">res_polaridad_texto &lt;-<span class="st"> </span><span class="kw">c</span>() <span class="co"># Objeto vacío</span></a>
<a class="sourceLine" id="cb82-3" title="3"></a>
<a class="sourceLine" id="cb82-4" title="4"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(df_polarity<span class="op">$</span>new_texto)){</a>
<a class="sourceLine" id="cb82-5" title="5">  res_polaridad_texto[i] &lt;-<span class="st"> </span><span class="kw">polarity</span>(</a>
<a class="sourceLine" id="cb82-6" title="6">    df_polarity<span class="op">$</span>new_texto[i],</a>
<a class="sourceLine" id="cb82-7" title="7">    <span class="dt">polarity.frame =</span> diccionario,</a>
<a class="sourceLine" id="cb82-8" title="8">    <span class="dt">negators =</span> negadores,</a>
<a class="sourceLine" id="cb82-9" title="9">    <span class="dt">amplifiers =</span> amplificadores,</a>
<a class="sourceLine" id="cb82-10" title="10">    <span class="dt">deamplifiers =</span> diminuidores)}</a>
<a class="sourceLine" id="cb82-11" title="11"></a>
<a class="sourceLine" id="cb82-12" title="12"><span class="co">#Creamos una función que guarde las puntuaciones de polaridad</span></a>
<a class="sourceLine" id="cb82-13" title="13">pol_texto &lt;-<span class="st"> </span><span class="kw">c</span>() <span class="co"># Objeto vacío</span></a>
<a class="sourceLine" id="cb82-14" title="14"></a>
<a class="sourceLine" id="cb82-15" title="15"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(res_polaridad_texto)){</a>
<a class="sourceLine" id="cb82-16" title="16">  pol_texto[i] &lt;-<span class="st"> </span>res_polaridad_texto[[i]]<span class="op">$</span>polarity}</a>
<a class="sourceLine" id="cb82-17" title="17"></a>
<a class="sourceLine" id="cb82-18" title="18"><span class="co"># Comprobamos la correcta creación</span></a>
<a class="sourceLine" id="cb82-19" title="19"><span class="kw">str</span>(pol_texto); <span class="kw">length</span>(pol_texto)</a></code></pre></div>
<pre><code>##  num [1:3878] 0.429 -0.555 -0.773 -0.147 1.424 ...</code></pre>
<pre><code>## [1] 3878</code></pre>
<p>A continuación, vamos a ver el resultado obtenido a partir de la
aplicación de <code>polarity</code>en un elemento concreto dentro de la variable
<code>new_texto</code>. Así, se puede ver que obtenemos un <code>data.frame</code> o un
conjunto de variables en el mismo objeto, dentro del cual se da el
resultado de 6 variables concretas:</p>
<ul>
<li>La primera variable es la selección que se lleva a cabo dentro del
texto, dentro de la cual se establece la opción de <code>todo el contenido</code>,
por lo que la salida indica <code>chr "all"</code> o bien “todos los contenidos
de tipo caracter”.</li>
<li>En segundo lugar se indica la cantidad total de palabras, que, en
este caso, es de 266 <code>wc</code>.</li>
<li>La tercera variable <code>polarity</code> es de caracter numérico <code>num</code> y
contiene la puntuación de polaridad asignada al mensaje.</li>
<li>La cuarta variable es una lista de tipo <code>chr</code> o caracteres, que
incluye las palabras positivas identificadas.</li>
<li>La quinta variable es una lista <code>chr</code>que contiene las palabras
negativas identificadas.</li>
<li>Por último, la sexta variable es el texto que se ha analizado.</li>
</ul>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">str</span>(res_polaridad_texto[[<span class="dv">1</span>]], <span class="dt">width =</span> <span class="dv">70</span>, <span class="dt">strict.width =</span> <span class="st">&#39;wrap&#39;</span>)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1 obs. of  6 variables:
## $ all : chr &quot;all&quot;
## $ wc : int 266
## $ polarity : num 0.429
## $ pos.words:List of 1
## ..$ : chr &quot;amigo&quot; &quot;pacifica&quot; &quot;amigo&quot; &quot;prima&quot; ...
## $ neg.words:List of 1
## ..$ : chr &quot;terror&quot; &quot;cara&quot; &quot;terror&quot; &quot;locura&quot; ...
## $ text.var : chr &quot;may quieres amigo peliculas recuerdan terror
##    siempre lleva garras acero mano mascara cara terror locura
##    encuent&quot;| __truncated__</code></pre>
<p>Finalmente, podemos ver la distribución de las polaridades que se
ha obtenido para las dos variables de texto. Se ha de indicar que la
función <code>polarity</code> permite fijar el rango de la polaridad entre +1 y -1,
en cambio, con el fin de observar cuál sería la complejidad encontrada,
este parámetro no se ha fijado.</p>
<p>Así, podemos ver en la distribución de frecuencias de la variable <code>texto</code>
que la mayor concentración de los casos, como es lógico, se sitúa
alrededor de 0 y, aparentemente, teniendo en cuenta las puntuaciones a
partir de 0,5 hacia ambos lados de la distribución, predominan las
puntuaciones positivas.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-71"></span>
<img src="book_tfm_files/figure-html/unnamed-chunk-71-1.png" alt="Frecuencia absoluta de la polaridad de `texto`" width="80%" />
<p class="caption">
Figura 8.1: Frecuencia absoluta de la polaridad de <code>texto</code>
</p>
</div>
<p>En lo que se refiere a la variable sumario, se porduce el mismo efecto,
siendo mayor la concentración para el caso de las valoraciones positivas.
En cambio, se hace notorio el efecto de algunos casos que podrían ser
atípicamente negativos, puesto que hay algunas puntuaciones que llegar a ser
-3.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-72"></span>
<img src="book_tfm_files/figure-html/unnamed-chunk-72-1.png" alt="Frecuencia absoluta de la polaridad de `sumario`" width="80%" />
<p class="caption">
Figura 8.2: Frecuencia absoluta de la polaridad de <code>sumario</code>
</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preparacion-de-los-diccionarios.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="combinacion-de-las-bases-de-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/nastya/book_tfm/edit/master/08-a_sentim.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["book_tfm.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
